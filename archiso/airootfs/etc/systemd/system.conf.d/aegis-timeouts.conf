# Aegis Linux - Systemd Timeout Configuration
# =============================================================================
# Reasonable timeouts to prevent hung processes
# =============================================================================

[Manager]
# Default timeout for starting units
DefaultTimeoutStartSec=45s

# Default timeout for stopping units
# Shorter than default to prevent long shutdowns
DefaultTimeoutStopSec=30s

# Timeout for abort (after stop timeout fails)
DefaultTimeoutAbortSec=30s

# Default timeout for device units
DefaultDeviceTimeoutSec=30s

# Restart throttle
DefaultRestartSec=100ms

# Start limit defaults
DefaultStartLimitIntervalSec=10s
DefaultStartLimitBurst=5

# CPU accounting (for resource monitoring)
DefaultCPUAccounting=yes

# IO accounting
DefaultIOAccounting=yes

# Memory accounting
DefaultMemoryAccounting=yes

# Tasks accounting
DefaultTasksAccounting=yes

# IP accounting
DefaultIPAccounting=yes

# Default task limits
DefaultTasksMax=4096

# Crash handling
CrashChangeVT=no
CrashShell=no
CrashReboot=no

# Control group hierarchy version
# v2 (unified) is more modern and feature-complete
DefaultOOMPolicy=stop
